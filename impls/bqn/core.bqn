⟨Env⟩ ← •Import "env.bqn"
⟨PrStr⟩ ← •Import "printer.bqn"
⟨ReadStr⟩ ← •Import "reader.bqn"

ns ← ⟨
  "+"‿{1∾+´1⊏˘>𝕩}
  "-"‿{1∾-´1⊏˘>𝕩}
  "*"‿{1∾×´1⊏˘>𝕩}
  "/"‿{1∾⌊∘÷´1⊏˘>𝕩}

  "="‿{7∾∧´≡´˘2↕𝕩}
  "<"‿{7∾∧´<´˘2↕1⊸⊑¨𝕩}
  "<="‿{7∾∧´≤´˘2↕1⊸⊑¨𝕩}
  ">"‿{7∾∧´>´˘2↕1⊸⊑¨𝕩}
  ">="‿{7∾∧´≥´˘2↕1⊸⊑¨𝕩}

  "list"‿{3‿𝕩}
  "list?"‿{7∾3=⊑⊑𝕩}
  "empty?"‿{7∾0=≠1⊑⊑𝕩}
  "count"‿{1∾≠1⊑⊑𝕩}

  "bqn-show"‿{•Show ⊑ 𝕩}
  "prn"‿{•Out∘PrStr¨𝕩 ⋄ 8‿⟨⟩}

  "read-string"‿{ReadStr 1⊑⊑𝕩}
  "slurp"‿{2∾<•FChars 1⊑⊑𝕩}
⟩

core ⇐ Env@
{𝕊 kw‿f: core.Set kw‿(9‿f)}¨ns
